#!/usr/bin/env sh
echo "üìù Validating commit message..."
npx --no -- commitlint --edit "$1"

if [ $? -ne 0 ]; then
  echo ""
  echo "‚ùå Commit message validation failed!"
  echo ""
  echo "Commit message format:"
  echo "  <type>(<scope>): <subject>"
  echo ""
  echo "Types: feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert"
  echo ""
  echo "Examples:"
  echo "  feat: add user authentication"
  echo "  fix(api): resolve database connection issue"
  echo "  docs: update README with setup instructions"
  echo ""
  echo "‚ö†Ô∏è  Note: Subject must be lowercase (no capital letters at start)"
  echo ""
  exit 1
fi

echo "‚úÖ Commit message is valid!"
